<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>民大it报</title>
    <!-- 引入核心js,css文件 -->
    <footer th:replace="common/jscore" />
</head>
<style>
    div.row {
        border-top:1px solid #000
    }
    div {
        text-align: center
    }
    .img {
        width: 300px;
        height: 300px;
    }
    a:hover,a:focus{
        outline: none;
        text-decoration: none;
    }
    .tab .nav-tabs{
        position: relative;
        border-bottom: none;
    }
    .tab .nav-tabs li{
        text-align: center;
        margin-right: 10px;
    }
    .tab .nav-tabs li a{
        display: block;
        font-size: 16px;
        font-weight: 600;
        color: #444;
        padding: 10px 15px;
        background: transparent;
        margin-right: 0;
        border: none;
        border-radius: 0;
        overflow: hidden;
        position: relative;
        z-index: 1;
        transition: all 0.5s ease 0s;
    }
    .tab .nav-tabs li a:before{
        content: "";
        width: 100%;
        height: 3px;
        background: #de7921;
        position: absolute;
        top: 92%;
        left: 0;
        transition: all 0.3s ease 0s;
    }
    .tab .nav-tabs li a:hover:before,
    .tab .nav-tabs li.active a:before,
    .tab .nav-tabs li.active a:hover:before{
        top: 0;
    }
    .tab .nav-tabs li a:after{
        content: "";
        width: 100%;
        height: 100%;
        background: #fff;
        position: absolute;
        top: 100%;
        left: 0;
        z-index: -1;
        transition: all 0.3s ease 0s;
    }
    .tab .nav-tabs li a:hover:after,
    .tab .nav-tabs li.active a:after,
    .tab .nav-tabs li.active a:hover:after{
        top: 0;
    }
    .nav-tabs li.active a,
    .nav-tabs li.active a:focus,
    .nav-tabs li.active a:hover,
    .nav-tabs li a:hover{
        border: none;
    }
    .tab .tab-content{
        padding: 30px 15px 20px;
        background: #fff;
        font-size: 14px;
        color: #555;
        line-height: 26px;
    }
    .tab .tab-content h3{
        font-size: 24px;
        margin-top: 0;
    }
    @media only screen and (max-width: 479px){
        .tab .nav-tabs li{ width: 100%; }
    }
    .nav-tabs.nav-justified>.active>a, .nav-tabs.nav-justified>.active>a:focus, .nav-tabs.nav-justified>.active>a:hover {
        border: 1px solid #801919;
        background: #8ce4ec;
    }
    #wrap {
        display:block;
        bottom:0px;
        right:185px
        !important;
        width:80px;
        line-height:30px;
        position:fixed;
        border:1px solid #fff;
        text-align:center;
        color:#fff;
        background:#000;
    }
    ul.b {list-style-type:square;}
    pre {
        display: block;
        padding: 9.5px;
        margin: 0 0 10px;
        font-size: 13px;
        line-height: 1.42857143;
        color: #333;
        word-break: break-all;
        word-wrap: break-word;
        background-color: #f5f5f5;
        border: 1px solid #ccc;
        border-radius: 4px;
        height: 309px;
    }
</style>
<body style="width: 80%;margin-left: 10%;">
<div style="border: 1px">
        <div class="" style="height: 10%;margin-top: 50px">
            <h1>民大IT报</h1>
            <button style="float: right;" onclick="loginFunction()" type="button" class="btn btn-default">登陆</button>
        </div>

    <img src="http://www.runoob.com/wp-content/uploads/2014/07/slide2.png" alt="Second slide" style="width: 100%;height: 2px">

        <div class="" style="height: 300px;overflow:hidden;">
            <ul class="nav nav-tabs nav-justified" >
                <li role="presentation" class="active"><a href="#one" role="tab" data-toggle="tab">首页</a></li>
                <li role="presentation">
                    <a href="#two" id="" class="dropdown-toggle" role="tab" data-toggle="tab">职能部门</a>
                    <div  class="dropdown">
                        <a href="#" id="myTabDrop1" class="dropdown-toggle"
                           data-toggle="dropdown">
                            <div style="position: absolute;top: -28px;left: 295px;" class="glyphicon glyphicon-sort-by-attributes-alt">
                            </div>
                        </a>
                        <!--//部门下拉-->
                        <ul class="dropdown-menu" role="menu" aria-labelledby="myTabDrop1" id="deptMenu" style="width: 507px;">

                        </ul>
                    </div>
                </li>
                <li role="presentation"><a href="#three" role="tab" data-toggle="tab">报社概况</a></li>

            </ul>

            <div class="tab-content tabs row" style="height: 280px">
                <div role="tabpanel" class="tab-pane fade in active" id="one" >
                    <pre style="height: 280px">
                        本课题是我和几个同学一起合作做共享单车运营管理平台，我负责的其中租车还车管理子系统。随着智能手机的出现，通信技术的发展促使了像共享单车这样的共享经济的普及，
                        运营管理平台作为共享单车管理的核心，租车还车模块则是整个运营管理平台中的重要组成部件：当手机App扫码了之后，需要把自行车编号以及用户账号发到运营管理平台，
                        运营管理平台通过我设计租车还车子系统检查单车状态，检查用户是否满足开锁需求。之后与自动锁进行通信，发送开锁指令；开始当前形成记录和计费；租车人锁车后，
                        租车还车子系统更改单车状态，归档形成记录和消费记录。
                    通过此次课题的研究能进一步学习物联网开发技术，共享单车的实现其实质是一个典型的物联网应用。物联网应用是新一代信息技术的重要组成部分，也是“信息化”时代的重
                        要发展阶段。因万物互联，物联网应用将产生海量数据，对数据的分析和利用，也将为社会创造更多新的商业机遇，例如企业部署物联网后，有能力获取到无限数据，并
                        从中洞察实现快速创新；如制造业部署物联网后，具有获取数据能力，驱动制造业升级；另外，对于一个国家而言，基于海量数据可以洞悉未来商业经济，以数据来构建一
                        张全球经济图谱。
                   </pre>
                </div>
                <div role="tabpanel" class="tab-pane fade" id="two">
                    <div id="myCarousel" class="carousel slide">
                        <!-- 轮播（Carousel）指标 -->
                        <ol class="carousel-indicators" style="margin-bottom: 30px">
                            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                            <li data-target="#myCarousel" data-slide-to="1"></li>
                            <li data-target="#myCarousel" data-slide-to="2"></li>
                        </ol>
                        <!-- 轮播（Carousel）项目 -->
                        <div class="carousel-inner">
                            <div class="item active">
                            <center>
                                <img class="img" th:src="@{/image/3.JPG}" alt="First slide" style="width: 100%">
                            </center>
                            </div>
                            <div class="item">
                                <center>
                                    <img class="img" th:src="@{/image/4.JPG}" alt="Second slide" style="width: 100%">
                                </center>
                            </div>
                            <div class="item">
                                <center>
                                <img class="img" th:src="@{/image/5.JPG}" alt="Third slide" style="width: 100%">
                                </center>
                                <!--<div class="carousel-caption">标题 3</div>-->
                            </div>
                        </div>
                        <!-- 轮播（Carousel）导航 -->
                        <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
                <div role="tabpanel" class="tab-pane fade" id="three" >
                    <h3>Section 3</h3>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras nec urna aliquam, ornare eros vel, malesuada lorem. Nullam faucibus lorem at eros consectetur lobortis. Maecenas nec nibh congue, placerat sem id, rutrum velit. Phasellus porta enim at facilisis condimentum. Maecenas pharetra dolor vel elit tempor pellentesque sed sed eros. Aenean vitae mauris tincidunt, imperdiet orci semper, rhoncus ligula. Vivamus scelerisque.</p>
                </div>
            </div>
        </div>

        <div class="row" style="height: 350px" bgcolor="#44">
            <div class="col-lg-6" style="height: 370px">
                <h4 style="float: left;margin-top: 20px;margin-left: 20px">公告</h4>
                <div style="float: left;margin-top: 50px;margin-left: 20px;width: 80%;height: auto">
                    <pre>

                    </pre>
                </div>
            </div>
            <div class="col-lg-6" style="height: 370px">
                <h4 style="float: left;margin-top: 20px;margin-left: 20px">往期报纸</h4>
                <div style="float: left;margin-top: 50px;margin-left: 20px;text-align: left;width: 80%;height: auto" >
                    <pre width="">
                        <ul class="b" id="apendUL"></ul>
                    </pre>
                </div>
            </div>
        </div>
        <img src="http://www.runoob.com/wp-content/uploads/2014/07/slide2.png" alt="Second slide" style="width: 100%;height: 2px">
        <div style="float: right;margin-right: 4px  ">民大IT报</div>
        <div style="height: 5%;">
            <div style="" id="wrap" >
                <img id="" th:src="@{/image/2.jpg}" alt="Second slide" height="80px" width="80px">
            </div>
        </div>
</div>





<!-- 模态框（Modal） 登陆-->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
           <!-- <div class="modal-header">
                登陆
            </div>-->
            <div class="modal-body">
                <form class="form-horizontal" id="userLoginForm">
                    <fieldset>
                        <div id="legend" class="">
                            <legend class="">登陆</legend>
                        </div>
                        <div class="control-group">
                            <div class="controls">
                            <label class="control-label" for="userName">账号</label>
                                <input type="text" id="userName" name="userName" placeholder="用户名" class="input-xlarge">
                            </div>
                        </div>
                        <br>
                        <div class="control-group">
                            <div class="controls">
                            <label class="control-label" for="userPassword">密码</label>
                                <input type="password" id="userPassword" name="userPassword" placeholder="密码" class="input-xlarge">
                            </div>
                        </div>

                    </fieldset>
                </form>
            </div>
            <div class="modal-footer">
                <center>
                    <button class="btn btn-success" onclick="userLogin()">登陆</button>
                </center>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
</body>
<script>
    $('#myCarousel').carousel({
        interval: 3000
    })
    $(function (){
        //动态加载往期报纸
        $.ajax({
            type: "get",
            url: "getNewspaper",
            data: {
                // 'id' : null,
            },
            dataType: "json",
            success: function(result){
                var html = "";
                if(result.length>=5){
                    for (var i=0;i<5;i++){
                        hrefs = "getNewspaperById?newsId="+result[i].newsId;
                        html +="<li style='list-style-type:circle;'>" +
                            "<a target=\"_blank\" href='"+hrefs+"'>"+result[i].newsTitle+"</a>" +
                            "</li>" +
                            "<br/>" ;
                    }
                    $("#apendUL").append(html);
                }else{
                    $.each(result, function(i) {
                        hrefs = "getNewspaperById?newsId="+result[i].newsId;
                        html +="<li style='list-style-type:circle;'>" +
                            "<a target=\"_blank\" href='"+hrefs+"'>"+result[i].newsTitle+"</a>" +
                            "</li>" +
                            "<br/>" ;
                    });
                    $("#apendUL").append(html);
                }
            }
        })

        //动态加载部门下拉
        $.ajax({
            type: "get",
            url: "findDepartment",
            data: {
                // 'id' : null,
            },
            dataType: "json",
            success: function(result){
                var data = result.rows;
                var html = "";
                $.each(data, function(i) {
                    hrefs = "getDepartmentByIds?depId="+data[i].depId;
                    html +="<li><a target=\"_blank\" href='"+hrefs+"'>"+data[i].depName+"</a></li>"
                });
                $("#deptMenu").append(html);
            }
        })
    })

    function loginFunction(){
        $('#myModal').modal('toggle');
    }
    function userLogin() {
        var userName = $("#userName").val();
        var userPassword = $("#userPassword").val();
        $.ajax({
            url:'login',
            type:'get',
            data:{
                "userName":userName,
                "userPassword":userPassword
            },
            dataType:'json',
            success:function(data){
                if(data.code == 2){
                    alert(data.msg);
                }else{
                    location.reload();
                    location.href = "toMindex";
                }
            }
        })
    }
</script>
</html>